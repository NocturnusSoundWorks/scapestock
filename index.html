<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ScapeStock</title>
  <style>
     body {
    font-family: sans-serif;
    margin: 0;
    background: #f7f7f7;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
    h1 {
      text-align: center;
    }
    
    .gallery {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* 4枚並び */
    gap: 16px;
    max-width: 1000px;
    margin-top: 30px;
    justify-items: center;
  }

  .gallery img {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: 8px;
    max-width: 220px; /* 正方形を維持しつつ幅制限 */
  }

  @media screen and (max-width: 960px) {
    .gallery {
      grid-template-columns: repeat(2, 1fr); /* 小さい画面では2列 */
    }
  }

    /* モーダル全体の背景 */
.modal {
  display: none;
  position: fixed;
  z-index: 10;
  padding-top: 60px;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.8);
  justify-content: center;
  align-items: center;
}

/* 拡大画像 */
.modal-content {
  margin: auto;
  display: block;
  max-width: 70%;
  max-height: 70%;
  box-shadow: 0 0 20px #000;
  border-radius: 8px;
  transition: 0.3s;
  background: #fff;
}
  </style>
</head>
<body>
  <h1>ScapeStock</h1>
  <p style="text-align:center;">風景と都市スナップのフリー写真素材</p><br>
  
  <div style="margin: 20px 0; text-align: center;">
  <form onsubmit="filterImages(); return false;">
    <input
      type="text"
      id="searchInput"
      placeholder="画像を検索..."
      style="padding: 8px; width: 60%; max-width: 500px; font-size: 16px;"
    />
    <button
      type="submit"
      style="padding: 8px 16px; font-size: 16px; margin-left: 8px; background: #333; color: white; border: none; border-radius: 4px; cursor: pointer;"
    >
      検索
    </button>
  </form>
</div>


  
 <div class="gallery">
  <img src="images/thu/25K062101_thu.jpg" alt="空　雲　太陽　青　白　景色　夏　昼　晴　自然">
  <img src="images/thu/25K062102_thu.jpg" alt="空　雲　青　白　景色　夏　昼 晴　自然">
  <img src="images/thu/25K062103_thu.jpg" alt="空　雲　青　葉　緑　景色　夏　昼　自然">
  <img src="images/thu/25K062104_thu.jpg" alt="空　雲　青　白　景色　夏　昼　晴　自然">
  <img src="images/thu/25K062105_thu.jpg" alt="空　夕日　夜　景色　オレンジ">
  <img src="images/thu/25K062106_thu.jpg" alt="川　景色　東京 街　都会　昼　ビル">
  <img src="images/thu/25K062107_thu.jpg" alt="花　桜　葉　景色　ピンう　白　春　自然">
  <img src="images/thu/25K062108_thu.jpg" alt="花　紫陽花　あじさい　葉　景色　紫　青　自然">
  <img src="images/thu/25K062109_thu.jpg" alt=""花　葉　草　景色　緑　自然">
  <img src="images/thu/25K062110_thu.jpg" alt="花　葉　景色　赤　自然">
  <img src="images/thu/25K062111_thu.jpg" alt="空　雲　青　白　景色　夏　昼　晴　自然">
  <img src="images/thu/25K062112_thu.jpg" alt="花　紫陽花　あじさい　葉　景色　紫　青　梅雨　6月　自然">
  <img src="images/thu/25K062113_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄　自然">
  <img src="images/thu/25K062114_thu.jpg" alt="花　紫陽花　あじさい　葉　景色　紫　青　梅雨　6月　自然">
  <img src="images/thu/25K062115_thu.jpg" alt="花　紫陽花　あじさい　葉　景色　紫　青　梅雨　6月　自然">
  <img src="images/thu/25K062116_thu.jpg" alt="花　葉　景色　紫　白　青　自然">
  <img src="images/thu/25K062117_thu.jpg" alt="森　草　葉　景色　緑　木漏れ日　太陽　光　自然">
  <img src="images/thu/25K062118_thu.jpg" alt="空　雲　青　白　景色　夏　昼 晴　自然">
  <img src="images/thu/25K062119_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄　自然">
  <img src="images/thu/25K062120_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　春　公園">
  <img src="images/thu/25K062121_thu.jpg" alt="田舎　田んぼ　草　景色　傘　雨　雨上がり　女性　後ろ姿">
  <img src="images/thu/25K062122_thu.jpg" alt="空　雲　青　白　景色　夏　昼 晴　自然">
  <img src="images/thu/25K062123_thu.jpg" alt="空　緑　青　景色　夏　草　紅葉　自然">   
  <img src="images/thu/25K062124_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　自然">
  <img src="images/thu/25K062125_thu.jpg" alt="空　雲　青　白　景色　田舎　夏　昼 晴　田んぼ　緑　自然">
  <img src="images/thu/25K062126_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　自然">
  <img src="images/thu/25K062127_thu.jpg" alt="花　葉　景色　黄 ひまわり　向日葵　夏　自然">
  <img src="images/thu/25K062128_thu.jpg" alt="花　桜　葉　景色　白 ピンク　春　自然">
  <img src="images/thu/25K062129_thu.jpg" alt="空　雲　青　景色　田舎　夏　昼 晴　緑　山　木　自然">
  <img src="images/thu/25K062130_thu.jpg" alt="花　紫陽花　あじさい　葉　景色　紫　青　自然">
  <img src="images/thu/25K062131_thu.jpg" alt="公園　滑り台　ブランコ　昼　景色">
  <img src="images/thu/25K062132_thu.jpg" alt="森　草　葉　景色　緑　木漏れ日　太陽　光　自然">
  <img src="images/thu/25K062133_thu.jpg" alt="空　雲　青　白　景色　夏　昼　晴　自然">
  <img src="images/thu/25K062134_thu.jpg" alt="花　葉　草　種　景色　たんぽぽ　綿毛　自然">
  <img src="images/thu/25K062135_thu.jpg" alt="空　雲　青　白　景色　田舎　夏　昼 晴　田んぼ　緑　自然">
  <img src="images/thu/25K062136_thu.jpg" alt="花　草　葉　景色　紫　青　蜂　虫">
  <img src="images/thu/25K062137_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄　自然">
  <img src="images/thu/25K062138_thu.jpg" alt="田舎　夏　昼 晴　後ろ姿　子供　公園">
  <img src="images/thu/25K062139_thu.jpg" alt="景色　田舎　夏　昼 晴　緑 道　あぜ道　山　自然">
  <img src="images/thu/25K062140_thu.jpg" alt="空　雲　青　白　景色　夏　昼 晴　緑　自然">
  <img src="images/thu/25K062141_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　自然">
  <img src="images/thu/25K062142_thu.jpg" alt="花　草　葉　景色　紫　青　蜂　虫　自然">
  <img src="images/thu/25K062143_thu.jpg" alt="花　葉　景色　紫　青 雨　雨上がり　軒下">
  <img src="images/thu/25K062144_thu.jpg" alt="葉　景色　黒　白　雨　雨上がり　軒下">
  <img src="images/thu/25K062145_thu.jpg" alt="草　葉　蝶　蝶々 景色　青　白　虫　自然">
  <img src="images/thu/25K062146_thu.jpg" alt="花　葉　景色　紫　青 雨　雨上がり　軒下">
  <img src="images/thu/25K062147_thu.jpg" alt="葉　景色　黒　白　雨　雨上がり　神社　和風　屋根　和">
  <img src="images/thu/25K062148_thu.jpg" alt="葉　景色　黒　白　雨　雨上がり　神社　和風　提灯　ちょうちん　和">
  <img src="images/thu/25K062149_thu.jpg" alt="空　夕日　夜　景色　オレンジ　自然">
  <img src="images/thu/25K062150_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　自然">
  <img src="images/thu/25K062151_thu.jpg" alt="素材　背景　シャッター　古い　錆びた　商店街">
  <img src="images/thu/25K062152_thu.jpg" alt="人物　パーツ　手　体　握手　AI">
  <img src="images/thu/25K062153_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　自然">
  <img src="images/thu/25K062154_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　自然">
  <img src="images/thu/25K062155_thu.jpg" alt="空　雲　青　白　景色　夏　昼 晴　自然">
  <img src="images/thu/25K062156_thu.jpg" alt="素材　背景　壁　弊　古い　レンガ">
  <img src="images/thu/25K062157_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　自然">
  <img src="images/thu/25K062158_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　自然">
  <img src="images/thu/25K062159_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　自然">
  <img src="images/thu/25K062160_thu.jpg" alt="空　雲　青　白　景色　夏　昼　晴　自然">
  <img src="images/thu/25K062161_thu.jpg" alt="空　雲　青　白　景色　田舎　夏　昼 晴　田んぼ　緑　木　自然">
  <img src="images/thu/25K062162_thu.jpg" alt="空　雲　青　白　景色　田舎　夏　昼 晴　緑　木　森　自然">
  <img src="images/thu/25K062163_thu.jpg" alt="空　雲　青　白　景色　田舎　夏　昼 晴　緑　木　森　自然">
  <img src="images/thu/25K062164_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　自然">
  <img src="images/thu/25K062165_thu.jpg" alt="空　青　白　景色　田舎　夏　昼 晴　緑　木　森 栗　くり　自然">
  <img src="images/thu/25K062166_thu.jpg" alt="空　青　白　景色　田舎　夏　昼 晴　緑　木　森 栗　くり　自然">
  <img src="images/thu/25K062167_thu.jpg" alt="空　宇宙　星　景色　黒　青">
  <img src="images/thu/25K062168_thu.jpg" alt="空　青　景色　田舎　夏　昼 晴　緑　雨上がり　木　雫　雨　自然">
  <img src="images/thu/25K062169_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　春　公園">
  <img src="images/thu/25K062170_thu.jpg" alt="空　雲　青　白　景色　夏　昼 晴　自然">
  <img src="images/thu/25K070101_thu.jpg" alt="壺　薔薇　バラ　造花　銅">
  <img src="images/thu/25K070102_thu.jpg" alt="動物　鴨　水鳥　鳥　池　水　沼　自然">
  <img src="images/thu/25K070103_thu.jpg" alt="動物　鴨　水鳥　鳥　池　水　沼　自然">
  <img src="images/thu/25K070104_thu.jpg" alt="動物　鴨　水鳥　鳥　池　水　沼　自然">
  <img src="images/thu/25K070105_thu.jpg" alt="森　草　葉　景色　緑　木漏れ日　太陽　光　自然">
  <img src="images/thu/25K070106_thu.jpg" alt="動物　鴨　水鳥　鳥　池　水　沼　自然">
  <img src="images/thu/25K070107_thu.jpg" alt="動物　鴨　水鳥　鳥　池　水　沼　自然">
  <img src="images/thu/25K070108_thu.jpg" alt="空　雲　青　白　景色　田舎　昼 晴　田んぼ　緑　鯉のぼり　自然">
  <img src="images/thu/25K070109_thu.jpg" alt="空　雲　青　白　景色　田舎　昼 晴　田んぼ　緑　鯉のぼり　自然">
  <img src="images/thu/25K070110_thu.jpg" alt="空　雲　青　白　景色　田舎　昼 晴　田んぼ　緑　鯉のぼり　自然">
  <img src="images/thu/25K070111_thu.jpg" alt="空　雲　黄　金　金色　景色　田舎　すすき 晴　自然">
  <img src="images/thu/25K070112_thu.jpg" alt="空　雲　黄　金　金色　景色　田舎　すすき 晴　自然">
  <img src="images/thu/25K070113_thu.jpg" alt="花　桜　葉　景色　ピンう　白　春　自然">
  <img src="images/thu/25K070114_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　自然">
  <img src="images/thu/25K070115_thu.jpg" alt="花　桜　葉　景色　ピンう　白　春　自然">
  <img src="images/thu/25K070116_thu.jpg" alt="花　葉　景色　赤 オレンジ　黄 ピンク　自">
  <img src="images/thu/25K070117_thu.jpg" alt="花　桜　葉　景色　ピンう　白　春　自然">
  <img src="images/thu/25K070118_thu.jpg" alt="花　桜　葉　景色　ピンう　白　春　自然">
</div>　
  <!-- ページボタン表示エリア -->
<div id="pagination" style="text-align: center; margin-top: 20px;"></div>
  
  <p style="text-align: center; margin-top: 40px;">
  <a href="terms.html" style="color: #333; text-decoration: underline;">利用規約はこちら</a>
</p>
  
<div id="modal" class="modal" onclick="closeModal(event)">
  <div style="text-align: center;">
    <img id="modalImg" class="modal-content" src="" alt="拡大画像">
    <p style="color: white; margin-top: 1em;">この画像をダウンロードしますか？</p>
    <a id="downloadBtn" href="#" download style="
      display: inline-block;
      padding: 10px 20px;
      background: #ffffff;
      color: #333;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
    ">
      ダウンロード
    </a>
  </div>
</div>

<script>
  const IMAGES_PER_PAGE = 20;
  let currentPage = 1;

document.addEventListener("DOMContentLoaded", () => {
  shuffleImages();     // ランダム並びにする
  showPage(1);         // ページ1を表示
  setModalEvents();    // モーダル設定
});

  let shuffledImages = []; // グローバルで保持

  function shuffleImages() {
    const images = Array.from(document.querySelectorAll('.gallery img'));
    shuffledImages = images.sort(() => Math.random() - 0.5);
  }

  function showPage(page) {
  const totalImages = shuffledImages.length;
  const totalPages = Math.ceil(totalImages / IMAGES_PER_PAGE);
  currentPage = page;

  // すべて非表示に
  document.querySelectorAll('.gallery img').forEach(img => {
    img.style.display = 'none';
  });

  const start = (page - 1) * IMAGES_PER_PAGE;
  const end = start + IMAGES_PER_PAGE;

  // ランダム順にしたリストから表示
  shuffledImages.slice(start, end).forEach(img => {
    img.style.display = '';
  });

  renderPagination(totalPages);
}

  function renderPagination(totalPages) {
  const pagination = document.getElementById('pagination');
  pagination.innerHTML = '';

  // ← ボタン（前へ）
  if (currentPage > 1) {
    const prevBtn = document.createElement('button');
    prevBtn.textContent = '←';
    prevBtn.onclick = () => {
      showPage(currentPage - 1);
      setModalEvents();
    };
    styleButton(prevBtn, false);
    pagination.appendChild(prevBtn);
  }

  // 表示するページ範囲の決定
  const maxButtons = 5;
  let startPage = Math.max(1, currentPage - Math.floor(maxButtons / 2));
  let endPage = startPage + maxButtons - 1;

  if (endPage > totalPages) {
    endPage = totalPages;
    startPage = Math.max(1, endPage - maxButtons + 1);
  }

  for (let i = startPage; i <= endPage; i++) {
    const btn = document.createElement('button');
    btn.textContent = i;
    btn.onclick = () => {
      showPage(i);
      setModalEvents();
    };
    styleButton(btn, i === currentPage);
    pagination.appendChild(btn);
  }

  // → ボタン（次へ）
  if (currentPage < totalPages) {
    const nextBtn = document.createElement('button');
    nextBtn.textContent = '→';
    nextBtn.onclick = () => {
      showPage(currentPage + 1);
      setModalEvents();
    };
    styleButton(nextBtn, false);
    pagination.appendChild(nextBtn);
  }
}

// ボタンのスタイル共通化
function styleButton(btn, isActive) {
  btn.style.margin = '4px';
  btn.style.padding = '8px 12px';
  btn.style.background = isActive ? '#333' : '#ccc';
  btn.style.color = isActive ? '#fff' : '#000';
  btn.style.border = 'none';
  btn.style.borderRadius = '4px';
  btn.style.cursor = 'pointer';
}

  function setModalEvents() {
    document.querySelectorAll('.gallery img').forEach(img => {
      img.onclick = function () {
        const modal = document.getElementById('modal');
        const modalImg = document.getElementById('modalImg');
        const downloadBtn = document.getElementById('downloadBtn');

        modal.style.display = "flex";
        modalImg.src = this.src;
        modalImg.alt = this.alt;

        const thumbSrc = this.src;
        const fullSrc = thumbSrc.replace("thu/", "full/").replace("_thu", "");
        downloadBtn.href = fullSrc;
        downloadBtn.download = fullSrc.split('/').pop();
      };
    });
  }

  function closeModal(e) {
    if (e.target.id === 'modalImg' || e.target.id === 'downloadBtn') return;
    document.getElementById('modal').style.display = "none";
  }

  function filterImages() {
  const input = document.getElementById('searchInput').value.toLowerCase();
  const images = document.querySelectorAll('.gallery img');
  let results = [];

  images.forEach(img => {
    const alt = img.alt.toLowerCase();
    if (alt.includes(input)) {
      results.push(img);
    }
  });

  const pagination = document.getElementById('pagination');
  pagination.innerHTML = '';

  images.forEach(img => {
    img.style.display = 'none';
  });

  results.forEach(img => {
    img.style.display = '';
  });

  setModalEvents();

  // 入力が空ならページ1に戻す
  if (input.trim() === '') {
    showPage(1);
  }
}
  
</script>
</body>
</html>
